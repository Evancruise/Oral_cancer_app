<!DOCTYPE html>
<html>
<head>
  <title>QR 登入</title>
  <meta charset="UTF-8">
</head>
<body>
  <!-- <h2>請使用手機掃描以下 QR Code 或是 帳號密碼登入</h2> -->
  <h2>帳號密碼登入</h2>
  {% if error %}
    <p style="color:red">{{ error }}</p>
  {% endif %}
  <form method="post" action="/login">
    <label>帳號：</label><input type="text" name="username" /><br>
    <label>密碼：</label><input type="password" name="password" /><br>
    <button type="submit">登入</button>
  </form>
  <br>

  <!-- <img src="data:image/png;base64,{{ qr }}" width="200" />
  <p>Session ID: {{ session_id }}</p> -->

  <script>
    // const sessionId = "{{ session_id }}";

    // async function checkStatus() {
    //   const res = await fetch(`/check-status/${sessionId}`);
    //   const data = await res.json();
    //   if (data.status === 'scanned') {
    //     // 使用者已登入，導向成功頁面
    //     window.location.href = "/login";
    //   } else {
    //     // 每兩秒輪詢一次
    //     setTimeout(checkStatus, 2000);
    //   }
    // }

    // checkStatus();
  </script>
</body>
</html>